require(["config"],function(){require(["jquery","header"],function(o,l){new Promise(function(l,t){o("header").load("/html/component/header.html",function(){l()})}).then(function(){var n=[!1,!1,!1,!1];o("#username").blur(function(){var l=!0,t=o("#username"),a=o("#errorName");""==t.val()||null==t.val()?(a.html("*用户名不能为空!"),l=!1):t.val().length<4||16<t.val().length?(a.html("长度为4-16!"),l=!1):a.html(""),l&&(n[0]=!0)}),o("#password").blur(function(){var l=!0,t=o("#password"),a=o("#errorPassword");""==t.val()||null==t.val()?(a.html("*密码不为空!"),l=!1):t.val().length<6||16<t.val().length?(a.html("长度为6-16!"),l=!1):a.html(""),l&&(n[1]=!0)}),o("#InputRepassword").blur(function(){var l=!0,t=o("#password"),a=o("#InputRepassword"),e=o("#errorRepassword");""==a.val()||null==a.val()?(e.html("*确认密码不为空!"),l=!1):t.val()!=a.val()?(e.html("*密码不一致!"),l=!1):e.html(""),l&&(n[2]=!0)}),o("#email").blur(function(){var l=!0,t=o("#errorEmail"),a=o("#email");""==a.val()||null==a.val()?(t.html("*邮箱不为空!"),l=!1):0==/^\w+@\w+(\.[a-zA-Z]{2,3}){1,2}$/.test(a.val())?(t.html("邮箱格式错误!"),l=!1):t.html(""),l&&(n[3]=!0)}),o("form").submit(function(t){var l=o("#username").val(),a=o("#password").val(),e=(o("#InputRepassword").val(),o("#email").val());if(n.every(function(l){return l})){var r={uname:l,email:e,pwd:a};o.ajax({method:"post",data:r,dataType:"json",url:"http://localhost/project/projectserver/api/register.php",success:function(l){1===l.code?(alert("注册成功！"),window.location.href="http://localhost:2333/html/login.html",t.preventDefault()):(alert("注册失败！请重新注册"),location.href="http://localhost:2333/html/register.html")}})}t.preventDefault()})}).then(function(){})})});